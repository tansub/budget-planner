{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,A,C,E,E,Q,A,E,Q,S,C,C,C,E,E,E,O,C,qB,I,G,E,E,O,C,c,I,G,E,E,O,C,gB,I,G,I,E,E,S,E,E,SCcA,IAAM,EAAc,SAAS,cAAc,CAAC,gBACtC,EAAa,SAAS,cAAc,CAAC,eACrC,EAAiB,SAAS,cAAc,CAAC,mBACzC,EAAoB,SAAS,cAAc,CAAC,gBAC5C,EAAe,SAAS,cAAc,CAAC,kBACvC,EAAoB,SAAS,cAAc,CAAC,uBAC5C,EAAe,SAAS,cAAc,CAAC,iBACvC,EAAS,SAAS,cAAc,CAAC,UACjC,EAAmB,SAAS,cAAc,CAAC,qBAC3C,EAAe,SAAS,cAAc,CAAC,kBACvC,EAAO,SAAS,cAAc,CAAC,QACjC,EAAa,EACb,EAAgB,EAKpB,EAAkB,gBAAgB,CAAC,QAAS,UAE1C,GAAI,MADJ,EAAa,SAAS,EAAY,KAAK,IACd,GAAc,EAAG,CACxC,MAAM,sCACN,MACF,CAEA,GAAI,CACF,MAAM,AAAA,CAAA,EAAA,EAAA,MAAK,AAAL,EAAO,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,EAAA,EAAC,CAAG,SAAU,WAAY,CACzC,YAAa,EACb,eAAgB,EAAc,MAAM,GACtC,GAEA,EAAO,SAAS,CAAG,EACnB,EAAa,SAAS,CAAG,EAAa,EACtC,EAAY,KAAK,CAAG,EACtB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,oCAAqC,EACrD,CACF,GACO,IAAM,EAAc,UACzB,GAAI,CACF,IAAM,EAAY,MAAM,AAAA,CAAA,EAAA,EAAA,MAAK,AAAL,EAAO,AAAA,CAAA,EAAA,EAAA,GAAE,AAAF,EAAI,EAAA,EAAC,CAAG,SAAU,Y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","sources":["<anon>","js/script.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"8zRAg\", function(module, exports) {\n\n$parcel$export(module.exports, \"fetchTotalExpenses\", () => $63eb283d27decb4d$export$5257cc143b7d832e);\n$parcel$export(module.exports, \"fetchBudget\", () => $63eb283d27decb4d$export$d56c80838237b5e9);\n$parcel$export(module.exports, \"fetchExpenses\", () => $63eb283d27decb4d$export$f9477a3c60455553);\n\nvar $gEjZb = parcelRequire(\"gEjZb\");\n\nvar $ilpIi = parcelRequire(\"ilpIi\");\nconst $63eb283d27decb4d$var$totalAmount = document.getElementById(\"total-amount\");\nconst $63eb283d27decb4d$var$userAmount = document.getElementById(\"user-amount\");\nconst $63eb283d27decb4d$var$categorySelect = document.getElementById(\"category-select\");\nconst $63eb283d27decb4d$var$checkAmountButton = document.getElementById(\"check-amount\");\nconst $63eb283d27decb4d$var$updateButton = document.getElementById(\"change-expense\");\nconst $63eb283d27decb4d$var$totalAmountButton = document.getElementById(\"total-amount-button\");\nconst $63eb283d27decb4d$var$productTitle = document.getElementById(\"product-title\");\nconst $63eb283d27decb4d$var$amount = document.getElementById(\"amount\");\nconst $63eb283d27decb4d$var$expenditureValue = document.getElementById(\"expenditure-value\");\nconst $63eb283d27decb4d$var$balanceValue = document.getElementById(\"balance-amount\");\nconst $63eb283d27decb4d$var$list = document.getElementById(\"list\");\nlet $63eb283d27decb4d$var$tempAmount = 0;\nlet $63eb283d27decb4d$var$totalExpenses = 0;\n// BUDGET\n// Set Budget Function\n$63eb283d27decb4d$var$totalAmountButton.addEventListener(\"click\", async ()=>{\n    $63eb283d27decb4d$var$tempAmount = parseInt($63eb283d27decb4d$var$totalAmount.value);\n    if (isNaN($63eb283d27decb4d$var$tempAmount) || $63eb283d27decb4d$var$tempAmount <= 0) {\n        alert(\"Please enter a valid total amount.\");\n        return;\n    }\n    try {\n        await (0, $ilpIi.setDoc)((0, $ilpIi.doc)((0, $gEjZb.db), \"budget\", \"current\"), {\n            totalBudget: $63eb283d27decb4d$var$tempAmount,\n            currentBalance: $63eb283d27decb4d$var$tempAmount - await $63eb283d27decb4d$export$5257cc143b7d832e()\n        });\n        $63eb283d27decb4d$var$amount.innerHTML = $63eb283d27decb4d$var$tempAmount;\n        $63eb283d27decb4d$var$balanceValue.innerText = $63eb283d27decb4d$var$tempAmount - $63eb283d27decb4d$var$totalExpenses;\n        $63eb283d27decb4d$var$totalAmount.value = \"\";\n    } catch (error) {\n        console.error(\"Error saving budget to Firestore:\", error);\n    }\n});\nconst $63eb283d27decb4d$export$d56c80838237b5e9 = async ()=>{\n    try {\n        const budgetDoc = await (0, $ilpIi.getDoc)((0, $ilpIi.doc)((0, $gEjZb.db), \"budget\", \"current\"));\n        if (budgetDoc.exists()) {\n            const data = budgetDoc.data();\n            $63eb283d27decb4d$var$amount.innerHTML = data.totalBudget;\n            $63eb283d27decb4d$var$balanceValue.innerText = data.currentBalance;\n            $63eb283d27decb4d$var$expenditureValue.innerText = data.totalExpenses;\n            $63eb283d27decb4d$var$tempAmount = data.totalBudget;\n        }\n    } catch (error) {\n        console.error(\"Error fetching budget from Firestore:\", error);\n    }\n};\n// Disable edit and delete buttons\nconst $63eb283d27decb4d$var$disableButtons = (bool)=>{\n    document.querySelectorAll(\".edit\").forEach((button)=>button.disabled = bool);\n};\nconst $63eb283d27decb4d$export$5257cc143b7d832e = async ()=>{\n    try {\n        const q = (0, $ilpIi.query)((0, $ilpIi.collection)((0, $gEjZb.db), \"expenses\"));\n        const querySnapshot = await (0, $ilpIi.getDocs)(q);\n        let newTotalExpenses = 0;\n        querySnapshot.forEach((docSnap)=>{\n            const data = docSnap.data();\n            const expenseAmount = parseFloat(data.amount);\n            if (!isNaN(expenseAmount)) newTotalExpenses += expenseAmount;\n        });\n        $63eb283d27decb4d$var$totalExpenses = newTotalExpenses;\n        $63eb283d27decb4d$var$expenditureValue.innerHTML = $63eb283d27decb4d$var$totalExpenses;\n        $63eb283d27decb4d$var$balanceValue.innerText = $63eb283d27decb4d$var$tempAmount - $63eb283d27decb4d$var$totalExpenses;\n        return $63eb283d27decb4d$var$totalExpenses;\n    } catch (error) {\n        console.error(\"Error fetching total expenses:\", error);\n        $63eb283d27decb4d$var$totalExpenses = 0;\n        $63eb283d27decb4d$var$expenditureValue.innerText = $63eb283d27decb4d$var$totalExpenses;\n        $63eb283d27decb4d$var$balanceValue.innerText = $63eb283d27decb4d$var$tempAmount;\n        return 0;\n    }\n};\nconst $63eb283d27decb4d$export$f9477a3c60455553 = async ()=>{\n    try {\n        const q = (0, $ilpIi.query)((0, $ilpIi.collection)((0, $gEjZb.db), \"expenses\"), (0, $ilpIi.orderBy)(\"createdAt\", \"desc\"));\n        const querySnapshot = await (0, $ilpIi.getDocs)(q);\n        $63eb283d27decb4d$var$list.innerHTML = \"\";\n        querySnapshot.forEach((docSnap)=>{\n            const data = docSnap.data();\n            $63eb283d27decb4d$var$listCreator(docSnap.id, data.title, data.amount, data.category || \"Uncategorized\");\n        });\n    } catch (error) {\n        console.error(\"Error fetching expenses:\", error);\n    }\n};\nconst $63eb283d27decb4d$var$listCreator = (id, expenseName, expenseValue, expenseCategory)=>{\n    let subListContent = document.createElement(\"div\");\n    subListContent.classList.add(\"sublist-content\", \"flex-space\");\n    subListContent.innerHTML = `<p class=\"product\">${expenseName}</p><p class=\"amount\">${expenseValue}</p><p class=\"category\">${expenseCategory}</p>`;\n    let editButton = document.createElement(\"button\");\n    editButton.classList.add(\"fa-solid\", \"fa-pen-to-square\", \"edit\");\n    editButton.setAttribute(\"aria-label\", \"Edit expense\");\n    editButton.addEventListener(\"click\", ()=>{\n        // deleteExpense(id)\n        $63eb283d27decb4d$var$editExpense(id, expenseName, expenseValue, expenseCategory);\n    });\n    let deleteButton = document.createElement(\"button\");\n    deleteButton.classList.add(\"fa-solid\", \"fa-trash-can\", \"delete\");\n    editButton.setAttribute(\"aria-label\", \"Delete expense\");\n    deleteButton.addEventListener(\"click\", ()=>$63eb283d27decb4d$var$deleteExpense(id));\n    subListContent.append(editButton, deleteButton);\n    $63eb283d27decb4d$var$list.appendChild(subListContent);\n};\n$63eb283d27decb4d$var$checkAmountButton.addEventListener(\"click\", async ()=>{\n    if (!$63eb283d27decb4d$var$userAmount.value || !$63eb283d27decb4d$var$productTitle.value) {\n        alert(\"Please fill in the details.\");\n        return;\n    }\n    $63eb283d27decb4d$var$disableButtons(false);\n    let expenditure = parseInt($63eb283d27decb4d$var$userAmount.value);\n    let totalExpenses = await $63eb283d27decb4d$export$5257cc143b7d832e() + expenditure;\n    $63eb283d27decb4d$var$balanceValue.innerText = $63eb283d27decb4d$var$tempAmount - totalExpenses;\n    $63eb283d27decb4d$var$expenditureValue.innerText = totalExpenses;\n    $63eb283d27decb4d$var$listCreator($63eb283d27decb4d$var$productTitle.value, $63eb283d27decb4d$var$userAmount.value, $63eb283d27decb4d$var$categorySelect.value);\n    await $63eb283d27decb4d$var$addExpenseToFirestore($63eb283d27decb4d$var$productTitle.value, expenditure, $63eb283d27decb4d$var$categorySelect.value);\n    $63eb283d27decb4d$var$productTitle.value = \"\";\n    $63eb283d27decb4d$var$userAmount.value = \"\";\n    $63eb283d27decb4d$var$categorySelect.value = \"\";\n});\nconst $63eb283d27decb4d$var$addExpenseToFirestore = async (title, amount, category)=>{\n    try {\n        if (isNaN(amount) || amount <= 0) {\n            console.error(\"Invalid amount:\", amount);\n            alert(\"Please enter a valid expense amount.\");\n            return;\n        }\n        const docRef = await (0, $ilpIi.addDoc)((0, $ilpIi.collection)((0, $gEjZb.db), \"expenses\"), {\n            title: title,\n            amount: amount,\n            category: category || \"Uncategorized\",\n            createdAt: new Date().toISOString()\n        });\n        await (0, $ilpIi.updateDoc)((0, $ilpIi.doc)((0, $gEjZb.db), \"expenses\", docRef.id), {\n            id: docRef.id\n        });\n        await $63eb283d27decb4d$export$f9477a3c60455553();\n        await $63eb283d27decb4d$export$5257cc143b7d832e();\n    } catch (error) {\n        console.error(\"Error adding expense to Firestore:\", error);\n    }\n};\nconst $63eb283d27decb4d$var$editExpense = async (id, title, amount, category)=>{\n    $63eb283d27decb4d$var$updateButton.style.display = \"inline\";\n    $63eb283d27decb4d$var$productTitle.value = title;\n    $63eb283d27decb4d$var$userAmount.value = amount;\n    $63eb283d27decb4d$var$categorySelect.value = category || \"Uncategorized\";\n    $63eb283d27decb4d$var$checkAmountButton.disabled = true;\n    $63eb283d27decb4d$var$updateButton.addEventListener(\"click\", async ()=>{\n        try {\n            await (0, $ilpIi.updateDoc)((0, $ilpIi.doc)((0, $gEjZb.db), \"expenses\", id), {\n                title: $63eb283d27decb4d$var$productTitle.value,\n                amount: parseFloat($63eb283d27decb4d$var$userAmount.value),\n                category: $63eb283d27decb4d$var$categorySelect.value || \"Uncategorized\"\n            });\n            await $63eb283d27decb4d$export$f9477a3c60455553();\n            await $63eb283d27decb4d$export$5257cc143b7d832e();\n            $63eb283d27decb4d$var$updateButton.style.display = \"none\";\n            $63eb283d27decb4d$var$checkAmountButton.disabled = false;\n        } catch (error) {\n            console.error(\"Error updating expense:\", error);\n        }\n    });\n};\nconst $63eb283d27decb4d$var$deleteExpense = async (id)=>{\n    try {\n        await (0, $ilpIi.deleteDoc)((0, $ilpIi.doc)((0, $gEjZb.db), \"expenses\", id));\n        await $63eb283d27decb4d$export$5257cc143b7d832e();\n        await $63eb283d27decb4d$export$f9477a3c60455553();\n    // await fetchBudget();\n    } catch (error) {\n        console.error(\"Error deleting expense:\", error);\n    }\n};\nwindow.addEventListener(\"DOMContentLoaded\", async ()=>{\n    await $63eb283d27decb4d$export$d56c80838237b5e9();\n    await $63eb283d27decb4d$export$f9477a3c60455553();\n    await $63eb283d27decb4d$export$5257cc143b7d832e();\n});\n\n});\n\n\nparcelRequire(\"8zRAg\");\n\n//# sourceMappingURL=index.df5dc8be.js.map\n","import { db } from \"./firebase.js\";\nimport {\n  doc,\n  getDoc,\n  getDocs,\n  addDoc,\n  setDoc,\n  deleteDoc,\n  updateDoc,\n  collection,\n  query,\n  orderBy,\n} from \"firebase/firestore\";\n\nconst totalAmount = document.getElementById(\"total-amount\");\nconst userAmount = document.getElementById(\"user-amount\");\nconst categorySelect = document.getElementById(\"category-select\");\nconst checkAmountButton = document.getElementById(\"check-amount\");\nconst updateButton = document.getElementById(\"change-expense\");\nconst totalAmountButton = document.getElementById(\"total-amount-button\");\nconst productTitle = document.getElementById(\"product-title\");\nconst amount = document.getElementById(\"amount\");\nconst expenditureValue = document.getElementById(\"expenditure-value\");\nconst balanceValue = document.getElementById(\"balance-amount\");\nconst list = document.getElementById(\"list\");\nlet tempAmount = 0;\nlet totalExpenses = 0;\n\n// BUDGET\n\n// Set Budget Function\ntotalAmountButton.addEventListener(\"click\", async () => {\n  tempAmount = parseInt(totalAmount.value);\n  if (isNaN(tempAmount) || tempAmount <= 0) {\n    alert(\"Please enter a valid total amount.\");\n    return;\n  }\n\n  try {\n    await setDoc(doc(db, \"budget\", \"current\"), {\n      totalBudget: tempAmount,\n      currentBalance: tempAmount - (await fetchTotalExpenses()),\n    });\n\n    amount.innerHTML = tempAmount;\n    balanceValue.innerText = tempAmount - totalExpenses;\n    totalAmount.value = \"\";\n  } catch (error) {\n    console.error(\"Error saving budget to Firestore:\", error);\n  }\n});\nexport const fetchBudget = async () => {\n  try {\n    const budgetDoc = await getDoc(doc(db, \"budget\", \"current\"));\n    if (budgetDoc.exists()) {\n      const data = budgetDoc.data();\n      amount.innerHTML = data.totalBudget;\n      balanceValue.innerText = data.currentBalance;\n      expenditureValue.innerText = data.totalExpenses;\n      tempAmount = data.totalBudget;\n    }\n  } catch (error) {\n    console.error(\"Error fetching budget from Firestore:\", error);\n  }\n};\n\n// Disable edit and delete buttons\nconst disableButtons = (bool) => {\n  document\n    .querySelectorAll(\".edit\")\n    .forEach((button) => (button.disabled = bool));\n};\n\n// EXPENSES\n\nexport const fetchTotalExpenses = async () => {\n  try {\n    const q = query(collection(db, \"expenses\"));\n    const querySnapshot = await getDocs(q);\n    let newTotalExpenses = 0;\n\n    querySnapshot.forEach((docSnap) => {\n      const data = docSnap.data();\n      const expenseAmount = parseFloat(data.amount);\n      if (!isNaN(expenseAmount)) {\n        newTotalExpenses += expenseAmount;\n      }\n    });\n\n    totalExpenses = newTotalExpenses;\n    expenditureValue.innerHTML = totalExpenses;\n    balanceValue.innerText = tempAmount - totalExpenses;\n    return totalExpenses;\n  } catch (error) {\n    console.error(\"Error fetching total expenses:\", error);\n    totalExpenses = 0;\n    expenditureValue.innerText = totalExpenses;\n    balanceValue.innerText = tempAmount;\n    return 0;\n  }\n};\n\nexport const fetchExpenses = async () => {\n  try {\n    const q = query(collection(db, \"expenses\"), orderBy(\"createdAt\", \"desc\"));\n    const querySnapshot = await getDocs(q);\n    list.innerHTML = \"\";\n    querySnapshot.forEach((docSnap) => {\n      const data = docSnap.data();\n      listCreator(\n        docSnap.id,\n        data.title,\n        data.amount,\n        data.category || \"Uncategorized\"\n      );\n    });\n  } catch (error) {\n    console.error(\"Error fetching expenses:\", error);\n  }\n};\n\nconst listCreator = (id, expenseName, expenseValue, expenseCategory) => {\n  let subListContent = document.createElement(\"div\");\n  subListContent.classList.add(\"sublist-content\", \"flex-space\");\n  subListContent.innerHTML = `<p class=\"product\">${expenseName}</p><p class=\"amount\">${expenseValue}</p><p class=\"category\">${expenseCategory}</p>`;\n\n  let editButton = document.createElement(\"button\");\n  editButton.classList.add(\"fa-solid\", \"fa-pen-to-square\", \"edit\");\n  editButton.setAttribute(\"aria-label\", \"Edit expense\");\n  editButton.addEventListener(\"click\", () => {\n    // deleteExpense(id)\n    editExpense(id, expenseName, expenseValue, expenseCategory);\n  });\n\n  let deleteButton = document.createElement(\"button\");\n  deleteButton.classList.add(\"fa-solid\", \"fa-trash-can\", \"delete\");\n  editButton.setAttribute(\"aria-label\", \"Delete expense\");\n  deleteButton.addEventListener(\"click\", () => deleteExpense(id));\n\n  subListContent.append(editButton, deleteButton);\n  list.appendChild(subListContent);\n};\n\ncheckAmountButton.addEventListener(\"click\", async () => {\n  if (!userAmount.value || !productTitle.value) {\n    alert(\"Please fill in the details.\");\n    return;\n  }\n\n  disableButtons(false);\n  let expenditure = parseInt(userAmount.value);\n  let totalExpenses = (await fetchTotalExpenses()) + expenditure;\n  balanceValue.innerText = tempAmount - totalExpenses;\n  expenditureValue.innerText = totalExpenses;\n  listCreator(productTitle.value, userAmount.value, categorySelect.value);\n  await addExpenseToFirestore(\n    productTitle.value,\n    expenditure,\n    categorySelect.value\n  );\n  productTitle.value = \"\";\n  userAmount.value = \"\";\n  categorySelect.value = \"\";\n});\n\nconst addExpenseToFirestore = async (title, amount, category) => {\n  try {\n    if (isNaN(amount) || amount <= 0) {\n      console.error(\"Invalid amount:\", amount);\n      alert(\"Please enter a valid expense amount.\");\n      return;\n    }\n\n    const docRef = await addDoc(collection(db, \"expenses\"), {\n      title,\n      amount,\n      category: category || \"Uncategorized\",\n      createdAt: new Date().toISOString(),\n    });\n\n    await updateDoc(doc(db, \"expenses\", docRef.id), { id: docRef.id });\n    await fetchExpenses();\n    await fetchTotalExpenses();\n  } catch (error) {\n    console.error(\"Error adding expense to Firestore:\", error);\n  }\n};\n\nconst editExpense = async (id, title, amount, category) => {\n  updateButton.style.display = \"inline\";\n  productTitle.value = title;\n  userAmount.value = amount;\n  categorySelect.value = category || \"Uncategorized\";\n\n  checkAmountButton.disabled = true;\n\n  updateButton.addEventListener(\"click\", async () => {\n    try {\n      await updateDoc(doc(db, \"expenses\", id), {\n        title: productTitle.value,\n        amount: parseFloat(userAmount.value),\n        category: categorySelect.value || \"Uncategorized\",\n      });\n\n      await fetchExpenses();\n      await fetchTotalExpenses();\n      updateButton.style.display = \"none\";\n      checkAmountButton.disabled = false;\n    } catch (error) {\n      console.error(\"Error updating expense:\", error);\n    }\n  });\n};\n\nconst deleteExpense = async (id) => {\n  try {\n    await deleteDoc(doc(db, \"expenses\", id));\n    await fetchTotalExpenses();\n    await fetchExpenses();\n    // await fetchBudget();\n  } catch (error) {\n    console.error(\"Error deleting expense:\", error);\n  }\n};\n\nwindow.addEventListener(\"DOMContentLoaded\", async () => {\n  await fetchBudget();\n  await fetchExpenses();\n  await fetchTotalExpenses();\n});\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$63eb283d27decb4d$export$5257cc143b7d832e","$63eb283d27decb4d$export$d56c80838237b5e9","$63eb283d27decb4d$export$f9477a3c60455553","$gEjZb","$ilpIi","$63eb283d27decb4d$var$totalAmount","document","getElementById","$63eb283d27decb4d$var$userAmount","$63eb283d27decb4d$var$categorySelect","$63eb283d27decb4d$var$checkAmountButton","$63eb283d27decb4d$var$updateButton","$63eb283d27decb4d$var$totalAmountButton","$63eb283d27decb4d$var$productTitle","$63eb283d27decb4d$var$amount","$63eb283d27decb4d$var$expenditureValue","$63eb283d27decb4d$var$balanceValue","$63eb283d27decb4d$var$list","$63eb283d27decb4d$var$tempAmount","$63eb283d27decb4d$var$totalExpenses","addEventListener","isNaN","parseInt","value","alert","setDoc","doc","db","totalBudget","currentBalance","innerHTML","innerText","error","console","budgetDoc","getDoc","exists","data","totalExpenses","$63eb283d27decb4d$var$disableButtons","bool","querySelectorAll","forEach","button","disabled","q","query","collection","querySnapshot","getDocs","newTotalExpenses","docSnap","expenseAmount","parseFloat","amount","orderBy","$63eb283d27decb4d$var$listCreator","title","category","expenseName","expenseValue","expenseCategory","subListContent","createElement","classList","add","editButton","setAttribute","$63eb283d27decb4d$var$editExpense","deleteButton","$63eb283d27decb4d$var$deleteExpense","append","appendChild","expenditure","$63eb283d27decb4d$var$addExpenseToFirestore","docRef","addDoc","createdAt","Date","toISOString","updateDoc","style","display","deleteDoc","window"],"version":3,"file":"index.df5dc8be.js.map"}